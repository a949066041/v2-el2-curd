!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("element-ui")):"function"==typeof define&&define.amd?define("mx",["element-ui"],t):"object"==typeof exports?exports.mx=t(require("element-ui")):e.mx=t(e["element-ui"])}(self,(function(e){return(()=>{"use strict";var t={58:(e,t,n)=>{n.d(t,{default:()=>p});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"wrapper"},[n("div",{staticClass:"mx__table"},[e.noSearch?e._e():n("div",{staticClass:"mx__table__query",attrs:{p10:"",mb10:""}},[n("div",{staticClass:"mx__table__query-search"},[n("div",{staticClass:"clearfix",staticStyle:{display:"flex","align-items":"center"}},[n("tip-block",{attrs:{title:e.title}}),e._v(" "),e._t("tools")],2),e._v(" "),e._t("search")],2)]),e._v(" "),n("div",{staticClass:"table__wrapper",attrs:{p10:""}},[e._t("list",(function(){return[n("Table",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{height:e.config.height,"header-align":e.alignTable,data:e.dataSource,"tooltip-effect":"dark",width:"100%",stripe:""}},"Table",e.$attrs,!1),e.$listeners),e._l(e.columns,(function(t){return n("item-column",{key:t.dataIndex,attrs:{"empty-column":e.emptyColumn,config:t,slots:e.$scopedSlots[t.dataIndex]}})})),1)]}),null,{height:e.config.height}),e._v(" "),e.pagination?n("el-pagination",{attrs:{layout:"prev, pager, next, sizes, total","prev-text":"上一页","next-text":"下一页",total:e.total,"page-size":e.limit,"current-page":e.page},on:{"current-change":function(t){e.$emit("update:page",t)},"size-change":function(t){e.$emit("update:limit",t)}}}):e._e()],2),e._v(" "),e._t("default")],2)])};r._withStripped=!0;var o=n(717),i=n(942),a={0:"left",1:"center",2:"right"};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e,t,n,r,o,i,a,l){var c,s="function"==typeof e?e.options:e;if(t&&(s.render=t,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},s._ssrRegister=c):o&&(c=l?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(s.functional){s._injectStyles=c;var u=s.render;s.render=function(e,t){return c.call(t),u(e,t)}}else{var p=s.beforeCreate;s.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:s}}({name:"MxTable",components:{ItemColumn:{functional:!0,name:"ItemColumn",props:{config:[Object,Boolean],slots:[Function,void 0]},render:function(e,t){var n=!1,r=t.props,i=r.config,l=r.slots;if(!i)return null;var s=t.parent,u=s.alignTable,p=s.emptyColumn,f=i.slots,d=i.props,g=void 0===d?{}:d,m=i.dataIndex,h=i.label,b=g.empty,y=g.alignType,v=g.dict;if("boolean"==typeof i&&!i)return null;f&&"function"!=typeof l&&(n=!0,console.error(new Error("[mx:error] ".concat(m,"插槽没有进行配置，请检查"))));var _="string"==typeof b?b:p,O=function(e){var t,n=m.split(".").reduce((function(e,t){return e&&e[t]}),e);return v?v[n||0]:"string"==typeof n&&""===n?_:0===(t=n)||t?n:_};return e(o.TableColumn,{props:c(c({},g),{},{prop:m,label:h,align:a[y]||u,formatter:function(e){return O(e)}}),scopedSlots:f&&!n&&{default:function(e){return l(c(c({},e),{},{value:O(e.row)}))}}})}},Table:o.Table},props:{noSearch:{type:Boolean,default:!1},title:{type:String,default:"搜索"},align:{type:Number,default:1},dataSource:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},total:{type:Number,default:0},page:{type:Number,default:1},limit:{type:Number,default:10},loading:{type:Boolean,default:!1},emptyColumn:{type:String,default:"-"},tableHeightFixed:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},fixEl:{type:String,default:""}},data:function(){return{config:{height:0}}},computed:{alignTable:function(){return a[this.align]}},watch:{dataSource:function(){var e=this;this.$nextTick((function(){var t=e.$refs.table;t&&(t.bodyWrapper.scrollTop=0,t.bodyWrapper.scrollLeft=0)}))}},created:function(){var e=this,t=this.$attrs.height;this.$nextTick((function(){e.tableHeightFixed?e.handleRecomputedHeight():t?e.$set(e.config,"height",t):e.$delete(e.config,"height")})),this.tableHeightFixed&&(this.$once("hook:beforeMount",(function(){window.addEventListener("resize",e.handleRecomputedHeight)})),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e.handleRecomputedHeight)})))},methods:{handleRecomputedHeight:function(){var e=this;this.$attrs.height?this.config.height=this.$attrs.height:this.$nextTick((function(){setTimeout((function(){var t=e.fixEl?document.querySelector(e.fixEl).clientHeight-10:document.querySelector(".pc-wrapper").clientHeight||document.body.clientHeight,n=e.noSearch||!e.$scopedSlots.search&&!e.title?0:document.querySelector(".mx__table__query").clientHeight+10,r=e.pagination?49:0;e.config.height=t-n-r-20}))}))}}},r,[],!1,null,null,null);s.options.__file="components/lib/Table/src/main.vue";const u=s.exports;u.install=function(e){e.components(u.name,u)};const p=u},78:(e,t,n)=>{n.d(t,{default:()=>l});var r=n(942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const a={name:"TipBlock",functional:!0,props:{tipStyle:{type:Object,default:function(){return{}}},title:{type:String,default:""},bottom:{type:Number,default:16},size:{type:String,default:"16px"}},render:function(e,t){return e("div",{class:"mx-tip-block",attrs:{pl10:!0},style:i({fontSize:t.props.size,marginBottom:"".concat(t.props.bottom,"px")},t.props.tipStyle)},[t.props.title])},install:function(e){e.components(a.name,a)}},l=a},717:t=>{t.exports=e},942:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{default:()=>a});var e=r(78),t=r(58),n={TipBlock:e.default,Table:t.default},i={install:function e(t){e.installed||Object.keys(n).forEach((function(e){t.component(n[e].name,n[e])}))}};const a=i})(),o})()}));